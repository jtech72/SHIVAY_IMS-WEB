"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[766],{9766:(e,s,l)=>{l.r(s),l.d(s,{default:()=>N});var a=l(5043),d=l(5009),t=l(6522),i=l(4282),c=l(1072),r=l(8602),n=l(8258),o=l(3817),p=l(423),u=l(3825),h=l(7196),m=l(4438),x=l(4556),b=l(9325),j=l(4858),v=l(579);const N=()=>{var e,s,l,N,A,f;const g=(0,x.wA)(),{handleSubmit:y,register:w}=(0,j.mN)(),[C,S]=(0,a.useState)(!1),D=(0,x.d4)((e=>e)),G=(new Date).toISOString().split("T")[0],[k,q]=(0,a.useState)([]);console.log(k,"openingProducts");const R=null===D||void 0===D||null===(e=D.getWarehouseListReducer)||void 0===e||null===(s=e.searchWarehouse)||void 0===s?void 0:s.response,L=null===D||void 0===D||null===(l=D.listingUsersReducer)||void 0===l||null===(N=l.listingUsers)||void 0===N?void 0:N.response,E=null===D||void 0===D||null===(A=D.listingCustomerReducer)||void 0===A||null===(f=A.listingCustomer)||void 0===f?void 0:f.response,I=null===R||void 0===R?void 0:R.map((e=>({value:e._id,label:e.name}))),O=null===L||void 0===L?void 0:L.map((e=>({value:e._id,label:e.name}))),P=null===E||void 0===E?void 0:E.map((e=>({value:e._id,label:e.name}))),[W,_]=(0,a.useState)(null),[F,U]=(0,a.useState)(null),[B,H]=(0,a.useState)(null),[M,Q]=(0,a.useState)(!1);(0,a.useEffect)((()=>{g((0,b.lo)())}),[g]),(0,a.useEffect)((()=>{g((0,b.GU)())}),[g]),(0,a.useEffect)((()=>{g((0,b.kW)())}),[g]);return(0,v.jsxs)("div",{children:[(0,v.jsx)(d.A,{breadCrumbItems:[{label:"SHIVAY Dispatch List",path:"/shivay/dispatch"},{label:"Add Dispatch ",path:"/shivay/dispatch",active:!0}],title:"Add Dispatch"}),(0,v.jsxs)(t.A,{onSubmit:y((e=>{var s;const l=k.map((e=>{let{product:s,...l}=e;return l})),a=new FormData;(null===e||void 0===e||null===(s=e.attachmentGRfile)||void 0===s?void 0:s[0])instanceof File&&a.append("attachmentGRfile",e.attachmentGRfile[0]),a.append("warehouseId",null===W||void 0===W?void 0:W.value),a.append("dispatchBy",null===F||void 0===F?void 0:F.value),a.append("customerId",null===B||void 0===B?void 0:B.value),a.append("productDispatchQty",JSON.stringify(l)),a.append("description",null===e||void 0===e?void 0:e.description),a.append("date",null===e||void 0===e?void 0:e.date),a.append("grNumber",null===e||void 0===e?void 0:e.grNumber),g((0,b.KD)(a)),console.log(a,"formData")})),children:[(0,v.jsx)("div",{className:"accordion mb-3",id:"accordionExample",children:(0,v.jsxs)("div",{className:"accordion-item",style:{border:"2px solid #6655D9"},children:[(0,v.jsx)("h2",{className:"accordion-header mt-0",children:(0,v.jsxs)("button",{className:"accordion-button py-1 d-flex justify-content-between align-items-center w-100",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":M?"true":"false","aria-controls":"collapseOne",onClick:()=>{Q((e=>!e))},children:[(0,v.jsx)("div",{className:"flex-grow-1 text-black fw-bold",children:" Add Dispatch Details"}),(0,v.jsx)("div",{className:"d-flex",children:(0,v.jsxs)(i.A,{className:"fw-bold custom-button me-2",onClick:()=>S(!0),disabled:!M,children:[(0,v.jsx)(p.Hpy,{className:"fs-3"}),"\xa0Product"]})})]})}),(0,v.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse "+(M?"show":""),"data-bs-parent":"#accordionExample",children:(0,v.jsx)("div",{className:"accordion-body py-1",children:(0,v.jsx)(t.A,{children:(0,v.jsxs)(c.A,{children:[(0,v.jsx)(r.A,{sm:3,children:(0,v.jsxs)(t.A.Group,{className:"mb-1",children:[(0,v.jsx)(t.A.Label,{className:"mb-0",children:"Warehouse"}),(0,v.jsx)(o.Ay,{value:W,onChange:e=>{_(e)},options:I,placeholder:"Select a warehouse",isClearable:!0,required:!0})]})}),(0,v.jsx)(r.A,{sm:3,children:(0,v.jsxs)(t.A.Group,{className:"mb-1",children:[(0,v.jsx)(t.A.Label,{className:"mb-0",children:"Customer"}),(0,v.jsx)(o.Ay,{value:B,onChange:e=>{H(e)},options:P,placeholder:"Select a Customer",isClearable:!0,required:!0})]})}),(0,v.jsx)(r.A,{sm:3,children:(0,v.jsxs)(t.A.Group,{className:"mb-1",children:[(0,v.jsx)(t.A.Label,{className:"mb-0",children:"Dispatch By"}),(0,v.jsx)(o.Ay,{value:F,onChange:e=>{U(e)},options:O,placeholder:"Select a User",isClearable:!0,required:!0})]})}),(0,v.jsx)(r.A,{sm:3,children:(0,v.jsxs)(t.A.Group,{className:"mb-1",children:[(0,v.jsx)(t.A.Label,{className:"mb-0",children:"Date Range"}),(0,v.jsx)(t.A.Control,{type:"date",defaultValue:G,...w("date",{required:!0}),required:!0})]})}),(0,v.jsx)(r.A,{sm:3,children:(0,v.jsxs)(t.A.Group,{className:"mb-1",children:[(0,v.jsx)(t.A.Label,{className:"mb-0",children:"GR Number"}),(0,v.jsx)(t.A.Control,{type:"number",placeholder:"Enter Invoice Number",...w("grNumber",{required:!0})})]})}),(0,v.jsx)(r.A,{sm:3,children:(0,v.jsxs)(t.A.Group,{className:"mb-1",children:[(0,v.jsx)(t.A.Label,{className:"mb-0",children:"Attach GR File"}),(0,v.jsx)(t.A.Control,{type:"file",placeholder:"Upload file",required:!0,...w("attachmentGRfile",{required:!0})})]})}),(0,v.jsx)(r.A,{sm:6,children:(0,v.jsxs)(t.A.Group,{className:"mb-1",children:[(0,v.jsx)(t.A.Label,{className:"mb-0",children:"Description"}),(0,v.jsx)(t.A.Control,{as:"textarea",rows:1,placeholder:"Enter Description",...w("description",{required:!0})})]})})]})})})})]})}),(0,v.jsxs)("div",{className:"mt-2",children:[(0,v.jsx)(n.A,{style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset"},children:(0,v.jsx)(n.A.Body,{className:"text-center py-1",children:(0,v.jsxs)("table",{className:"table table-striped bg-white",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"table_header",children:[(0,v.jsx)("th",{scope:"col",children:(0,v.jsx)("i",{className:"mdi mdi-merge"})}),(0,v.jsx)("th",{scope:"col",children:"Product Name"}),(0,v.jsx)("th",{scope:"col",children:"Modal"}),(0,v.jsx)("th",{scope:"col",children:"Code"}),(0,v.jsx)("th",{scope:"col",children:"Quantity"})]})}),(0,v.jsx)("tbody",{children:k&&k.length>0?k.map(((e,s)=>{var l,a,d,t;return(0,v.jsxs)("tr",{className:"text-dark fw-bold text-nowrap highlight-row",children:[(0,v.jsx)("th",{scope:"row",children:s+1}),(0,v.jsx)("td",{className:"text-uppercase fw-bold",children:(null===e||void 0===e||null===(l=e.product)||void 0===l?void 0:l.name)||(0,v.jsx)("span",{className:"text-danger",children:"N/A"})}),(0,v.jsx)("td",{className:"fw-bold",children:(null===e||void 0===e||null===(a=e.product)||void 0===a||null===(d=a.modelId)||void 0===d?void 0:d.name)||(0,v.jsx)("span",{className:"text-danger",children:"N/A"})}),(0,v.jsx)("td",{className:"fw-bold",children:(null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.code)||(0,v.jsx)("span",{className:"text-danger",children:"N/A"})}),(0,v.jsx)("td",{className:"fw-bold",children:(null===e||void 0===e?void 0:e.quantity)||(0,v.jsx)("span",{className:"text-danger",children:"N/A"})}),(0,v.jsx)("td",{}),(0,v.jsxs)("div",{className:"icon-container d-flex pb-0",children:[(0,v.jsx)("span",{className:"icon-wrapper",title:"Edit",children:(0,v.jsx)(u.dtF,{className:"fs-4 text-black",style:{cursor:"pointer"}})}),(0,v.jsx)("span",{className:"icon-wrapper",title:"Delete",children:(0,v.jsx)(h.WFf,{className:"fs-4 text-black",style:{cursor:"pointer"}})})]})]},s)})):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:"6",className:"text-center text-muted py-3",children:"No products added yet. Please add products to add dispatch."})})})]})})}),(0,v.jsxs)("div",{className:"text-end",children:[(0,v.jsx)(i.A,{className:"fw-bold cancel-button me-2",children:"Cancel"}),(0,v.jsx)(i.A,{className:"fw-bold custom-button",type:"submit",children:"Submit"})]})]})]}),(0,v.jsx)(m.A,{selectedWarehouse:W,openingProducts:k,setOpeningProducts:q,showModal:C,handleClose:()=>S(!1)})]})}}}]);
//# sourceMappingURL=766.ff5c24e5.chunk.js.map
"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[590],{3083:(e,l,o)=>{o.d(l,{A:()=>$});var a,s=o(8139),d=o.n(s),n=o(3043),t=o(8279),r=o(182),i=o(8260);function c(e){if((!a&&0!==a||e)&&t.A){var l=document.createElement("div");l.style.position="absolute",l.style.top="-9999px",l.style.width="50px",l.style.height="50px",l.style.overflow="scroll",document.body.appendChild(l),a=l.offsetWidth-l.clientWidth,document.body.removeChild(l)}return a}var u=o(5043);var m=o(6618),v=o(8293);function h(e){const l=function(e){const l=(0,u.useRef)(e);return l.current=e,l}(e);(0,u.useEffect)((()=>()=>l.current()),[])}var b=o(4232),x=o(4804),p=o(5675),A=o(8072),j=o(7852),N=o(579);const f=u.forwardRef(((e,l)=>{let{className:o,bsPrefix:a,as:s="div",...n}=e;return a=(0,j.oU)(a,"modal-body"),(0,N.jsx)(s,{ref:l,className:d()(o,a),...n})}));f.displayName="ModalBody";const g=f;var y=o(1602);const C=u.forwardRef(((e,l)=>{let{bsPrefix:o,className:a,contentClassName:s,centered:n,size:t,fullscreen:r,children:i,scrollable:c,...u}=e;o=(0,j.oU)(o,"modal");const m=`${o}-dialog`,v="string"===typeof r?`${o}-fullscreen-${r}`:`${o}-fullscreen`;return(0,N.jsx)("div",{...u,ref:l,className:d()(m,a,t&&`${o}-${t}`,n&&`${m}-centered`,c&&`${m}-scrollable`,r&&v),children:(0,N.jsx)("div",{className:d()(`${o}-content`,s),children:i})})}));C.displayName="ModalDialog";const w=C,S=u.forwardRef(((e,l)=>{let{className:o,bsPrefix:a,as:s="div",...n}=e;return a=(0,j.oU)(a,"modal-footer"),(0,N.jsx)(s,{ref:l,className:d()(o,a),...n})}));S.displayName="ModalFooter";const k=S;var E=o(2258);const R=u.forwardRef(((e,l)=>{let{bsPrefix:o,className:a,closeLabel:s="Close",closeButton:n=!1,...t}=e;return o=(0,j.oU)(o,"modal-header"),(0,N.jsx)(E.A,{ref:l,...t,className:d()(a,o),closeLabel:s,closeButton:n})}));R.displayName="ModalHeader";const P=R;const I=(0,o(4488).A)("h4"),M=u.forwardRef(((e,l)=>{let{className:o,bsPrefix:a,as:s=I,...n}=e;return a=(0,j.oU)(a,"modal-title"),(0,N.jsx)(s,{ref:l,className:d()(o,a),...n})}));M.displayName="ModalTitle";const T=M;function D(e){return(0,N.jsx)(A.A,{...e,timeout:null})}function L(e){return(0,N.jsx)(A.A,{...e,timeout:null})}const F=u.forwardRef(((e,l)=>{let{bsPrefix:o,className:a,style:s,dialogClassName:A,contentClassName:f,children:g,dialogAs:C=w,"data-bs-theme":S,"aria-labelledby":k,"aria-describedby":E,"aria-label":R,show:P=!1,animation:I=!0,backdrop:M=!0,keyboard:T=!0,onEscapeKeyDown:F,onShow:$,onHide:O,container:_,autoFocus:B=!0,enforceFocus:H=!0,restoreFocus:U=!0,restoreFocusOptions:z,onEntered:G,onExit:W,onExiting:q,onEnter:K,onEntering:Q,onExited:J,backdropClassName:V,manager:X,...Y}=e;const[Z,ee]=(0,u.useState)({}),[le,oe]=(0,u.useState)(!1),ae=(0,u.useRef)(!1),se=(0,u.useRef)(!1),de=(0,u.useRef)(null),[ne,te]=(0,u.useState)(null),re=(0,v.A)(l,te),ie=(0,m.A)(O),ce=(0,j.Wz)();o=(0,j.oU)(o,"modal");const ue=(0,u.useMemo)((()=>({onHide:ie})),[ie]);function me(){return X||(0,p.R)({isRTL:ce})}function ve(e){if(!t.A)return;const l=me().getScrollbarWidth()>0,o=e.scrollHeight>(0,r.A)(e).documentElement.clientHeight;ee({paddingRight:l&&!o?c():void 0,paddingLeft:!l&&o?c():void 0})}const he=(0,m.A)((()=>{ne&&ve(ne.dialog)}));h((()=>{(0,i.A)(window,"resize",he),null==de.current||de.current()}));const be=()=>{ae.current=!0},xe=e=>{ae.current&&ne&&e.target===ne.dialog&&(se.current=!0),ae.current=!1},pe=()=>{oe(!0),de.current=(0,b.A)(ne.dialog,(()=>{oe(!1)}))},Ae=e=>{"static"!==M?se.current||e.target!==e.currentTarget?se.current=!1:null==O||O():(e=>{e.target===e.currentTarget&&pe()})(e)},je=(0,u.useCallback)((e=>(0,N.jsx)("div",{...e,className:d()(`${o}-backdrop`,V,!I&&"show")})),[I,V,o]),Ne={...s,...Z};Ne.display="block";return(0,N.jsx)(y.A.Provider,{value:ue,children:(0,N.jsx)(x.A,{show:P,ref:re,backdrop:M,container:_,keyboard:!0,autoFocus:B,enforceFocus:H,restoreFocus:U,restoreFocusOptions:z,onEscapeKeyDown:e=>{T?null==F||F(e):(e.preventDefault(),"static"===M&&pe())},onShow:$,onHide:O,onEnter:(e,l)=>{e&&ve(e),null==K||K(e,l)},onEntering:(e,l)=>{null==Q||Q(e,l),(0,n.Ay)(window,"resize",he)},onEntered:G,onExit:e=>{null==de.current||de.current(),null==W||W(e)},onExiting:q,onExited:e=>{e&&(e.style.display=""),null==J||J(e),(0,i.A)(window,"resize",he)},manager:me(),transition:I?D:void 0,backdropTransition:I?L:void 0,renderBackdrop:je,renderDialog:e=>(0,N.jsx)("div",{role:"dialog",...e,style:Ne,className:d()(a,o,le&&`${o}-static`,!I&&"show"),onClick:M?Ae:void 0,onMouseUp:xe,"data-bs-theme":S,"aria-label":R,"aria-labelledby":k,"aria-describedby":E,children:(0,N.jsx)(C,{...Y,onMouseDown:be,className:A,contentClassName:f,children:g})})})})}));F.displayName="Modal";const $=Object.assign(F,{Body:g,Header:P,Title:T,Footer:k,Dialog:w,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},5009:(e,l,o)=>{o.d(l,{A:()=>t});o(5043);var a=o(1072),s=o(8602),d=o(9397),n=o(579);const t=e=>(0,n.jsx)(a.A,{children:(0,n.jsx)(s.A,{children:(0,n.jsxs)("div",{className:"page-title-box",children:[(0,n.jsx)("div",{className:"page-title-right",children:(0,n.jsxs)(d.A,{listProps:{className:"m-0"},children:[(0,n.jsx)(d.A.Item,{href:"/",children:"Dashboard"}),e.breadCrumbItems.map(((e,l)=>e.active?(0,n.jsx)(d.A.Item,{active:!0,style:{color:"#000"},children:e.label},l):(0,n.jsx)(d.A.Item,{href:e.path,children:e.label},l)))]})}),(0,n.jsx)("h4",{className:"page-title",style:{color:"#000"},children:e.title})]})})})},6414:(e,l,o)=>{o.d(l,{A:()=>x});var a=o(5043),s=o(3083),d=o(6522),n=o(1072),t=o(8602),r=o(4282),i=o(5449),c=o(9325),u=o(4556),m=o(4858),v=o(6518),h=o(3216),b=o(579);const x=e=>{var l,o,x,p,A,j;let{showModal:N,handleClose:f,openingProducts:g,setOpeningProducts:y,selectedWarehouse:C}=e;const w=(0,u.wA)(),{handleSubmit:S,register:k}=(0,m.mN)(),E=(0,u.d4)((e=>e)),R=null===E||void 0===E||null===(l=E.searchProductReducer)||void 0===l||null===(o=l.searchProduct)||void 0===o?void 0:o.response,P=null===E||void 0===E||null===(x=E.createStockCheckReducer)||void 0===x?void 0:x.createStockCheck;console.log(P,"StockCheck");const[I,M]=(0,a.useState)(""),[T,D]=(0,a.useState)(""),[L,F]=(0,a.useState)(),$=(0,h.zy)(),[O,_]=(0,a.useState)("modelName");(0,a.useEffect)((()=>{var e;"/shivay/addDispatch"===$.pathname&&L&&w((0,c.ed)({warehouseId:null===C||void 0===C?void 0:C.value,qty:L,productId:null===R||void 0===R||null===(e=R[0])||void 0===e?void 0:e._id}))}),[$,L]),(0,a.useEffect)((()=>{const e=setTimeout((()=>{I&&("modelName"===O?w((0,c.bm)({modelName:I})):"code"===O&&w((0,c.bm)({code:I})))}),500);return()=>clearTimeout(e)}),[I,w,O]);const B=(null===R||void 0===R?void 0:R.map((e=>{var l;return{value:null===e||void 0===e?void 0:e._id,label:(null===e||void 0===e||null===(l=e.modelId)||void 0===l?void 0:l.name)+" - "+(null===e||void 0===e?void 0:e.code),data:e}})))||[],H=(null===R||void 0===R?void 0:R.map((e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.code,data:e}))))||[],[U,z]=(0,a.useState)(null);console.log(U,"selectedModalselectedModal");const[G,W]=(0,a.useState)(null);console.log(G,"selectedCode");(0,a.useEffect)((()=>{w((0,c.bm)())}),[w]);return console.log(R,"ProductSearch"),(0,b.jsx)("div",{children:(0,b.jsxs)(s.A,{show:N,centered:!0,size:"lg",onHide:f,backdrop:"static",keyboard:!1,children:[(0,b.jsx)(s.A.Header,{closeButton:!0,children:(0,b.jsx)(s.A.Title,{className:"text-black",children:"Add Product"})}),(0,b.jsxs)(d.A,{onSubmit:S((e=>{if(null!==g&&void 0!==g&&g.some((e=>(null===e||void 0===e?void 0:e.productId)===(null===U||void 0===U?void 0:U.value))))(0,v.A)("Product Already Exist","danger");else{const e={productId:null===U||void 0===U?void 0:U.value,quantity:L,product:null===U||void 0===U?void 0:U.data};console.log(e,"productsData"),y((l=>[...l,e])),f()}})),children:[(0,b.jsxs)(s.A.Body,{children:[(0,b.jsxs)(n.A,{children:[(0,b.jsx)(t.A,{sm:6,children:(0,b.jsxs)(d.A.Group,{className:"mb-3",children:[(0,b.jsx)(d.A.Label,{className:"mb-0",children:"Search By"}),(0,b.jsxs)(d.A.Select,{value:O,onChange:e=>{_(e.target.value),M(""),z(null),W(null),D("")},children:[(0,b.jsx)("option",{value:"modelName",children:"Model"}),(0,b.jsx)("option",{value:"code",children:"Code"})]})]})}),"modelName"===O?(0,b.jsx)(t.A,{sm:6,children:(0,b.jsxs)(d.A.Group,{className:"mb-3",children:[(0,b.jsx)(d.A.Label,{className:"mb-0",children:"Model"}),(0,b.jsx)(i.Ay,{value:U,onChange:e=>{var l,o,a;z(e),W({value:null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l._id,label:null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.code,data:null===e||void 0===e?void 0:e.data}),D(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.name)},onInputChange:e=>M(e),options:B,placeholder:"Select Modal",isClearable:!0,isSearchable:!0,isLoading:null===E||void 0===E||null===(p=E.searchProductReducer)||void 0===p?void 0:p.loading})]})}):(0,b.jsx)(t.A,{sm:6,children:(0,b.jsxs)(d.A.Group,{className:"mb-3",children:[(0,b.jsx)(d.A.Label,{className:"mb-0",children:"Code"}),(0,b.jsx)(i.Ay,{value:G,onChange:e=>{var l,o,a,s,d;W(e),z({value:null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l._id,label:(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(a=o.modelId)||void 0===a?void 0:a.name)+" - "+(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.code),data:null===e||void 0===e?void 0:e.data}),D(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.name)},onInputChange:e=>M(e),options:H,placeholder:"Select Code",isClearable:!0,isSearchable:!0,isLoading:null===E||void 0===E||null===(A=E.searchProductReducer)||void 0===A?void 0:A.loading})]})}),"modelName"===O?(0,b.jsx)(t.A,{sm:6,children:(0,b.jsxs)(d.A.Group,{className:"mb-3",children:[(0,b.jsx)(d.A.Label,{className:"mb-0",children:"Code"}),(0,b.jsx)(d.A.Control,{type:"text",value:null===G||void 0===G?void 0:G.label})]})}):(0,b.jsx)(t.A,{sm:6,children:(0,b.jsxs)(d.A.Group,{className:"mb-3",children:[(0,b.jsx)(d.A.Label,{className:"mb-0",children:"Modal"}),(0,b.jsx)(d.A.Control,{type:"text",value:null===U||void 0===U?void 0:U.label})]})}),(0,b.jsx)(t.A,{sm:6,children:(0,b.jsxs)(d.A.Group,{className:"mb-3",children:[(0,b.jsx)(d.A.Label,{className:"mb-0",children:"Product Name "}),(0,b.jsx)(d.A.Control,{type:"text",value:T,placeholder:"Enter Product Name",onChange:e=>D(e.target.value),required:!0})]})}),(0,b.jsx)(t.A,{sm:6,children:(0,b.jsxs)(d.A.Group,{className:"mb-3",children:[(0,b.jsx)(d.A.Label,{className:"mb-0",children:"Quantity"}),(0,b.jsx)(d.A.Control,{type:"number",placeholder:"Enter Quantity",value:L,onChange:e=>F(parseInt(e.target.value)),required:!0})]})})]}),!(null!==P&&void 0!==P&&P.status)&&"/shivay/addDispatch"===$.pathname&&(null===P||void 0===P||null===(j=P.data)||void 0===j?void 0:j.length)>0&&(0,b.jsx)(n.A,{className:"px-2",children:(0,b.jsx)("div",{className:"py-1 text-center border border-primary rounded bg-light text-primary",children:P.message||JSON.stringify(P)})})]}),(0,b.jsxs)(s.A.Footer,{children:[(0,b.jsx)(r.A,{className:"cancel-button",onClick:f,children:"Close"}),(0,b.jsx)(r.A,{type:"submit",className:"custom-button",children:"Save"})]})]})]})})}}}]);
//# sourceMappingURL=590.e7e3e22f.chunk.js.map
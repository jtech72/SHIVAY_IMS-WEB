"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[65],{5065:(e,s,l)=>{l.r(s),l.d(s,{default:()=>A});var a=l(5043),i=l(5009),d=l(6522),c=l(4282),n=l(1072),t=l(8602),r=l(8258),o=l(3817),p=l(423),u=l(3002),x=l(3825),m=l(7196),h=l(4438),v=l(4556),b=l(9325),j=l(4858),N=l(579);const A=()=>{var e,s,l,A,f,y;const w=(0,v.wA)(),{handleSubmit:g,register:S}=(0,j.mN)(),[k,C]=(0,a.useState)(!1),I=(0,v.d4)((e=>e)),q=(new Date).toISOString().split("T")[0],[L,E]=(0,a.useState)([]),G=null===I||void 0===I||null===(e=I.getWarehouseListReducer)||void 0===e||null===(s=e.searchWarehouse)||void 0===s?void 0:s.response,D=null===I||void 0===I||null===(l=I.listingUsersReducer)||void 0===l||null===(A=l.listingUsers)||void 0===A?void 0:A.response,V=null===I||void 0===I||null===(f=I.listingSupplierReducer)||void 0===f||null===(y=f.listingSupplier)||void 0===y?void 0:y.response,O=null===G||void 0===G?void 0:G.map((e=>({value:e._id,label:e.name}))),_=null===D||void 0===D?void 0:D.map((e=>({value:e._id,label:e.name}))),P=null===V||void 0===V?void 0:V.map((e=>({value:e._id,label:e.name}))),[R,U]=(0,a.useState)(null),[F,W]=(0,a.useState)(null),[B,H]=(0,a.useState)(null),[Q,T]=(0,a.useState)(!1);(0,a.useEffect)((()=>{w((0,b.lo)())}),[w]),(0,a.useEffect)((()=>{w((0,b.GU)())}),[w]),(0,a.useEffect)((()=>{w((0,b.Y4)())}),[w]);return(0,N.jsxs)("div",{children:[(0,N.jsx)(i.A,{breadCrumbItems:[{label:"SHIVAY Stock In List",path:"/shivay/stockIn"},{label:"Add Stock In ",path:"/shivay/stockIn",active:!0}],title:"Add Stock In"}),(0,N.jsxs)(d.A,{onSubmit:g((e=>{var s;const l=L.map((e=>{let{product:s,...l}=e;return l})),a=new FormData;(null===e||void 0===e||null===(s=e.invoiceAttachment)||void 0===s?void 0:s[0])instanceof File&&a.append("invoiceAttachment",e.invoiceAttachment[0]),a.append("warehouseId",null===R||void 0===R?void 0:R.value),a.append("receivedBy",null===F||void 0===F?void 0:F.value),a.append("supplierId",null===B||void 0===B?void 0:B.value),a.append("stockInQty",JSON.stringify(l)),a.append("description",null===e||void 0===e?void 0:e.description),a.append("date",null===e||void 0===e?void 0:e.date),a.append("invoiceNumber",null===e||void 0===e?void 0:e.invoiceNumber),a.append("fright",null===e||void 0===e?void 0:e.invoiceValue),w((0,b.T$)(a))})),children:[(0,N.jsx)("div",{className:"accordion mb-3",id:"accordionExample",children:(0,N.jsxs)("div",{className:"accordion-item",style:{border:"2px solid #6655D9"},children:[(0,N.jsx)("h2",{className:"accordion-header mt-0",children:(0,N.jsxs)("button",{className:"accordion-button py-1 d-flex justify-content-between align-items-center w-100",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":Q?"true":"false","aria-controls":"collapseOne",onClick:()=>{T((e=>!e))},children:[(0,N.jsx)("div",{className:"flex-grow-1 text-black fw-bold",children:" Add Stock In Details"}),(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsxs)(c.A,{className:"fw-bold custom-button me-2",onClick:()=>C(!0),disabled:!Q,children:[(0,N.jsx)(p.Hpy,{className:"fs-3"}),"\xa0Product"]})})]})}),(0,N.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse "+(Q?"show":""),"data-bs-parent":"#accordionExample",children:(0,N.jsx)("div",{className:"accordion-body py-1",children:(0,N.jsxs)(n.A,{children:[(0,N.jsx)(t.A,{sm:3,children:(0,N.jsxs)(d.A.Group,{className:"mb-1",children:[(0,N.jsx)(d.A.Label,{className:"mb-0",children:"Warehouse"}),(0,N.jsx)(o.Ay,{value:R,onChange:e=>{U(e)},options:O,placeholder:"Select a warehouse",isClearable:!0,required:!0})]})}),(0,N.jsx)(t.A,{sm:3,children:(0,N.jsxs)(d.A.Group,{className:"mb-1",children:[(0,N.jsx)(d.A.Label,{className:"mb-0",children:"Received By"}),(0,N.jsx)(o.Ay,{value:F,onChange:e=>{W(e)},options:_,placeholder:"Select a User",isClearable:!0,required:!0})]})}),(0,N.jsx)(t.A,{sm:3,children:(0,N.jsxs)(d.A.Group,{className:"mb-1",children:[(0,N.jsx)(d.A.Label,{className:"mb-0",children:"Supplier"}),(0,N.jsx)(o.Ay,{value:B,onChange:e=>{H(e)},options:P,placeholder:"Select a Supplier",isClearable:!0,required:!0})]})}),(0,N.jsx)(t.A,{sm:3,children:(0,N.jsxs)(d.A.Group,{className:"mb-1",children:[(0,N.jsx)(d.A.Label,{className:"mb-0",children:"Date Range"}),(0,N.jsx)(d.A.Control,{type:"date",defaultValue:q,...S("date",{required:!0}),required:!0})]})}),(0,N.jsx)(t.A,{sm:3,children:(0,N.jsxs)(d.A.Group,{className:"mb-1",children:[(0,N.jsx)(d.A.Label,{className:"mb-0",children:"Invoice Number"}),(0,N.jsx)(d.A.Control,{type:"number",placeholder:"Enter Invoice Number",...S("invoiceNumber",{required:!0})})]})}),(0,N.jsx)(t.A,{sm:3,children:(0,N.jsxs)(d.A.Group,{className:"mb-1",children:[(0,N.jsx)(d.A.Label,{className:"mb-0",children:"Attach Invoice"}),(0,N.jsx)(d.A.Control,{type:"file",placeholder:"Upload file",required:!0,...S("invoiceAttachment",{required:!0})})]})}),(0,N.jsx)(t.A,{sm:3,children:(0,N.jsxs)(d.A.Group,{className:"mb-1",children:[(0,N.jsx)(d.A.Label,{className:"mb-0",children:"Invoice Value"}),(0,N.jsx)(d.A.Control,{type:"text",...S("invoiceValue",{required:!0}),placeholder:"Enter Invoice Value"})]})}),(0,N.jsx)(t.A,{sm:3,children:(0,N.jsxs)(d.A.Group,{className:"mb-1",children:[(0,N.jsx)(d.A.Label,{className:"mb-0",children:"Description"}),(0,N.jsx)(d.A.Control,{as:"textarea",rows:1,...S("description",{required:!0}),placeholder:"Enter Description"})]})})]})})})]})}),(0,N.jsxs)("div",{className:"mt-2",children:[(0,N.jsx)(r.A,{style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset"},children:(0,N.jsx)(r.A.Body,{className:"text-center py-1",children:(0,N.jsxs)("table",{className:"table table-striped bg-white",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{className:"table_header",children:[(0,N.jsx)("th",{scope:"col",children:(0,N.jsx)("i",{className:"mdi mdi-merge"})}),(0,N.jsx)("th",{scope:"col",children:"Product Name"}),(0,N.jsx)("th",{scope:"col",children:"Code"}),(0,N.jsx)("th",{scope:"col",children:"Quantity"})]})}),(0,N.jsx)("tbody",{children:L&&L.length>0?null===L||void 0===L?void 0:L.map(((e,s)=>{var l,a;return(0,N.jsxs)("tr",{className:"text-dark fw-bold text-nowrap highlight-row",children:[(0,N.jsx)("th",{scope:"row",children:s+1}),(0,N.jsx)("td",{className:"text-uppercase fw-bold ",children:(null===e||void 0===e||null===(l=e.product)||void 0===l?void 0:l.name)||(0,N.jsx)("span",{className:"text-black",children:"-"})}),(0,N.jsx)("td",{className:"fw-bold",children:(null===e||void 0===e||null===(a=e.product)||void 0===a?void 0:a.code)||(0,N.jsx)("span",{className:"text-black",children:"-"})}),(0,N.jsx)("td",{className:"fw-bold",children:(null===e||void 0===e?void 0:e.quantity)||(0,N.jsx)("span",{className:"text-black",children:"-"})}),(0,N.jsx)("td",{}),(0,N.jsx)("td",{}),(0,N.jsxs)("div",{className:"icon-container d-flex  pb-0",children:[(0,N.jsx)("span",{className:"icon-wrapper",title:"View",children:(0,N.jsx)(u.H0j,{className:"fs-4 text-black",style:{cursor:"pointer"}})}),(0,N.jsx)("span",{className:"icon-wrapper",title:"Edit",children:(0,N.jsx)(x.dtF,{className:"fs-4 text-black",style:{cursor:"pointer"}})}),(0,N.jsx)("span",{className:"icon-wrapper",title:"Delete",children:(0,N.jsx)(m.WFf,{className:"fs-4 text-black",style:{cursor:"pointer"}})})]})]},s)})):(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:"6",className:"text-center text-muted py-3",children:"No products added yet. Please add products to add stockIn."})})})]})})}),(0,N.jsxs)("div",{className:"text-end",children:[(0,N.jsx)(c.A,{className:"fw-bold cancel-button me-2",children:"Cancel"}),(0,N.jsx)(c.A,{className:"fw-bold custom-button",type:"submit",children:"Submit"})]})]})]}),(0,N.jsx)(h.A,{openingProducts:L,setOpeningProducts:E,showModal:k,handleClose:()=>C(!1)})]})}}}]);
//# sourceMappingURL=65.cdeecf10.chunk.js.map